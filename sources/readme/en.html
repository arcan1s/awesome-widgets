<h1>pytextmonitor</h1>

<h2>Information</h2>

<p>PyTextMonitor is a minimalistic Plasmoid script written on Python2. It looks like widgets in awesome-wm.</p>

<p><strong>NOTE</strong> <a href="https://github.com/arcan1s/pytextmonitor/issues/14">LOOKING FOR TRANSLATORS!</a></p>

<h2>Configuration</h2>

<p>For edited output you must open Settings window and setup output format in lines:</p>

<ul>
<li>tag <code>$time</code> - time in default format. For example, <em>fri Nov 6 04:48:01 2013</em></li>
<li>tag <code>$isotime</code> - time in iso format</li>
<li>tag <code>$shorttime</code> - time in short locale format</li>
<li>tag <code>$longtime</code> - time in long locale format</li>
<li>tag <code>$custom</code> - custom time format</li>
<li>tag <code>$uptime</code> - uptime, <em>---d--h--m</em></li>
<li>tag <code>$custom</code> - custom uptime format</li>
<li>tag <code>$cpu</code> - total load cpu, <em>%</em></li>
<li>tag <code>$cpuN</code> - load CPU for core N, <em>%</em></li>
<li>tag <code>$cpucl</code> - average cpu clock, <em>MHz</em></li>
<li>tag <code>$cpuclN</code> - cpu clock for core N, <em>MHz</em></li>
<li>tag <code>$tempN</code> - temperature for device N. For example, <code>$temp0</code></li>
<li>tag <code>$gpu</code> - GPU usage, <em>%</em>. <code>aticonfig</code> or <code>nvidia-smi</code> must be installed</li>
<li>tag <code>$gputemp</code> - GPU temperature. <code>aticonfig</code> or <code>nvidia-smi</code> must be installed</li>
<li>tag <code>$mem</code> - usage memory, <em>%</em></li>
<li>tag <code>$memmb</code> - usage memory, <em>MB</em></li>
<li>tag <code>$memgb</code> - usage memory, <em>GB</em></li>
<li>tag <code>$swap</code> - swap, <em>%</em></li>
<li>tag <code>$swapmb</code> - swap, <em>MB</em></li>
<li>tag <code>$swapgb</code> - swap, <em>GB</em></li>
<li>tag <code>$hddN</code> - usage for mount point N, <em>%</em>. For example, <code>$hdd0</code></li>
<li>tag <code>$hddmbN</code> - usage for mount point N, <em>MB</em>. For example, <code>$hddmb0</code></li>
<li>tag <code>$hddgbN</code> - usage for mount point N, <em>GB</em>. For example, <code>$hddgb0</code></li>
<li>tag <code>$hddrN</code> - read speed of disk N, <em>KB/s</em>. For example, <code>$hddr0</code></li>
<li>tag <code>$hddwN</code> - write speed of disk N, <em>KB/s</em>. For example, <code>$hddw0</code></li>
<li>tag <code>$hddtempN</code> - temperature for HDD N. For example, <code>$hddtemp0</code></li>
<li>tag <code>$down</code> - download speed, <em>KB/s</em></li>
<li>tag <code>$up</code> - upload speed, <em>KB/s</em></li>
<li>tag <code>$netdev</code> - current network device</li>
<li>tag <code>$bat</code> - battery charge, <em>%</em></li>
<li>tag <code>$ac</code> - status AC device. Return (*) if AC device is online or <em>( )</em> if offline</li>
<li>tag <code>$album</code> - current song album. One of supported music players must be installed</li>
<li>tag <code>$artist</code> - current song artist. One of supported music players must be installed</li>
<li>tag <code>$progress</code> - current song progress. One of supported music players must be installed</li>
<li>tag <code>$time</code> - current song duration. One of supported music players must be installed</li>
<li>tag <code>$title</code> - current song title. One of supported music players must be installed</li>
<li>tag <code>$pscount</code> - number of running processes</li>
<li>tag <code>$pstotal</code> - total number of processes</li>
<li>tag <code>$ps</code> - list of running processes</li>
<li>tag <code>$pkgcountN</code> - number of packages, which available to upgrade for command N. For example, <code>$pkgcount0</code></li>
<li>tag <code>$customN</code> - returns output for custom command N. For example, <code>$custom0</code></li>
</ul>

<p>Label order will changed if you change slider position. HTML tags in label work normally.</p>

<p><strong>NOTE</strong> you don't may set to show <code>$cpu</code> tag in swap label for example. <strong><code>$cpu</code> will work only in cpu label</strong>.</p>

<h2>Advanced settings</h2>

<p><strong>Custom time</strong></p>

<ul>
<li>tag <code>$dddd</code> - weekday in long format</li>
<li>tag <code>$ddd</code> - weekday in short format</li>
<li>tag <code>$dd</code> - day</li>
<li>tag <code>$d</code> - day without zero</li>
<li>tag <code>$MMMM</code> - month in long format</li>
<li>tag <code>$MMM</code> - month in short format</li>
<li>tag <code>$MM</code> - month</li>
<li>tag <code>$M</code> - month without zero</li>
<li>tag <code>$yyyy</code> - year</li>
<li>tag <code>$yy</code> - year in short format</li>
<li>tag <code>$hh</code> - hours</li>
<li>tag <code>$h</code> - hours without zero</li>
<li>tag <code>$mm</code> - minutes</li>
<li>tag <code>$m</code> - minutes without zero</li>
<li>tag <code>$ss</code> - seconds</li>
<li>tag <code>$s</code> - seconds without zero</li>
</ul>

<p><strong>Custom uptime</strong></p>

<ul>
<li>tag <code>$dd</code> - uptime days</li>
<li>tag <code>$d</code> - uptime days without zero</li>
<li>tag <code>$hh</code> - uptime hours</li>
<li>tag <code>$h</code> - uptime hours without zero</li>
<li>tag <code>$mm</code> - uptime minutes</li>
<li>tag <code>$m</code> - uptime minutes without zero</li>
</ul>

<p><strong>Temperature units</strong></p>

<p>Select units for temperature. Available units are Celsius, Farenheit and Kelvin.</p>

<p><strong>Temperature devices</strong></p>

<p>List of devices, which will be observed in temp label (combo box items come from <code>sensors</code>). List widget is editable, delete key will remove current item.</p>

<p><strong>Mount points</strong></p>

<p>List of mount points, which will be observed in hdd label (combo box items come from <code>mount</code>). List widget is editable, delete key will remove current item.</p>

<p><strong>HDD (speed)</strong></p>

<p>List of hard disk devices, which will be observed in hddspeed label (combo box items come from DataEngine). List widget is editable, delete key will remove current item.</p>

<p><strong>HDD (temperature)</strong></p>

<p>List of hard disk devices, which will be observed in hddtemp label (combo box items come from <code>find</code>). List widget is editable, delete key will remove current item.</p>

<p><strong>Network directory</strong></p>

<p>Path to directory, which contains network devices information. Default is <code>/sys/class/net</code>. Required for auto select network device.</p>

<p><strong>Network device</strong></p>

<p>Use specified device as active. Combo box items come from <strong>network directory</strong>. Will disable auto select network device.</p>

<p><strong>Battery device</strong></p>

<p>File with battery information. File (<code>/sys/class/power_supply/BAT0/capacity</code> by default) should contain only battery charge in percent.</p>

<p><strong>AC online tag</strong></p>

<p>Line which will be shown when AC is online.</p>

<p><strong>AC offline tag</strong></p>

<p>Line which will be shown when AC is offline.</p>

<p><strong>AC device</strong></p>

<p>File with AC information. File (<code>/sys/class/power_supply/AC/online</code> by default) must contain <code>1</code> if AC is online.</p>

<p><strong>Music player</strong></p>

<p>Select one of supported music playes for player label.</p>

<h2>Tooltip settings</h2>

<p>Since version 1.7.0 CPU, CPU clock, memory, swap and network labels support graphical tooltip. To enable them just make the needed checkboxes a fully checked. The number of stored values can be set in the tab. Colors of graphs are configurable too.</p>

<h2>DataEngine settings</h2>

<p><strong>Custom command</strong></p>

<p><em>NOTE</em> This can cause the computer freeze.</p>

<p>Commands, which will be run for custom label.</p>

<p><strong>GPU device</strong></p>

<p>Select one of supported GPU devices. <code>auto</code> will enable auto selection. Default is <code>auto</code>.</p>

<p><strong>HDD</strong></p>

<p>Select one of HDDs for HDD temperature monitor. <code>all</code> will enable monitor for all devices. Default is <code>all</code>.</p>

<p><strong>hddtemp cmd</strong></p>

<p>Type a command which will be run for hddtemp DataEngine. Default is <code>sudo hddtemp</code>.</p>

<p><strong>MPD address</strong></p>

<p>Address of MPD server. Default is <code>localhost</code>.</p>

<p><strong>MPD port</strong></p>

<p>Port of MPD server. Default is <code>6600</code>.</p>

<p><strong>Package manager</strong></p>

<p>List of commands, which will be run. Number of null lines is a number of unneeded lines. Defaults:
* <em>Arch</em>: <code>PKGCMD=pacman -Qu</code>, <code>PKGNULL=0</code>
* <em>Debian</em>: <code>PKGCMD=apt-show-versions -u -b</code>, <code>PKGNULL=0</code>
* <em>Ubuntu</em>: <code>PKGCMD=aptitude search '~U'</code>, <code>PKGNULL=0</code>
* <em>Fedora</em>: <code>PKGCMD=yum list updates</code>, <code>PKGNULL=3</code>
* <em>FreeBSD</em>: <code>PKGCMD=pkg_version -I -l '&lt;'</code>, <code>PKGNULL=0</code>
* <em>Mandriva</em>: <code>PKGCMD=urpmq --auto-select</code>, <code>PKGNULL=0</code></p>

<h2>DataEngine configuration</h2>

<p>You may edit DataEngine configuration. It is <code>/usr/share/config/extsysmon.conf</code> or <code>$HOME/share/config/extsysmon.conf</code> depending on the type of installation. Uncomment needed line and edit it.</p>

<h1>Instruction</h1>

<h2>Dependencies</h2>

<ul>
<li>kdebase-workspace</li>
<li>kdebindings-python2</li>
<li>lm_sensors (<em>for definition temperature device</em>)</li>
<li>sysstat (<em>for notification</em>)</li>
</ul>

<h2>Optional dependencies</h2>

<ul>
<li>proprietary video driver</li>
<li>hddtemp (make sure that it may be run with <code>sudo</code> without password. Just add following line to <code>/etc/sudoers</code>: <code>$USERNAME ALL=NOPASSWD: /usr/bin/hddtemp</code>)</li>
<li>music player (amarok, clementine, mpd or qmmp)</li>
</ul>

<h2>Make dependencies</h2>

<ul>
<li>automoc4</li>
<li>cmake</li>
<li>kdebase-runtime</li>
</ul>

<h2>Installation</h2>

<ul>
<li>download sources</li>
<li><p>install</p>

<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`kde4-config --localprefix` ../
make &amp;&amp; make install
</code></pre>

<p>Also you may install it to <code>/</code>:</p>

<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`kde4-config --prefix` ../
make &amp;&amp; sudo make install
</code></pre></li>
</ul>

<h1>Additional information</h1>

<h2>TODO (wish list)</h2>

<h2>Links</h2>

<ul>
<li><a href="http://arcanis.name/projects/pytextmonitor/">Homepage</a></li>
<li>Plasmoid on <a href="http://kde-look.org/content/show.php/Py+Text+Monitor?content=157124">kde-look</a></li>
<li>DataEngine on <a href="http://kde-look.org/content/show.php/Extended+Systemmonitor+DataEngine?content=158773">kde-look</a></li>
<li>Archlinux <a href="https://aur.archlinux.org/packages/kdeplasma-applets-pytextmonitor/">AUR</a> package</li>
</ul>
