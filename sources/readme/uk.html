<meta charset="utf-8">
<h1>pytextmonitor</h1>

<h2>Інформація</h2>

<p>PyTextMonitor - мінімалістичний плазмоїд, що написаний на Python2. Він виглядає як віджети в Awesome WM.</p>

<p><strong>УВАГА</strong> <a href="https://github.com/arcan1s/pytextmonitor/issues/14">ПОТРІБНІ ПЕРЕКЛАДАЧІ!</a></p>

<h2>Налаштування</h2>

<p>Для редагування зовнішного вигляду, відкрийте вікно налаштувань та встановіть потрібний формат в поля:</p>

<ul>
<li>тег <code>$time</code> - час у стандартному форматі. Наприклад, <em>fri Nov 6 04:48:01 2013</em></li>
<li>тег <code>$isotime</code> - час в ISO форматі</li>
<li>тег <code>$shorttime</code> - час в короткому форматі</li>
<li>тег <code>$longtime</code> - час у довгому форматі</li>
<li>тег <code>$custom</code> - свій формат часу</li>
<li>тег <code>$uptime</code> - час роботи, <em>---d--h--m</em></li>
<li>тег <code>$custom</code> - свій формат аптайму</li>
<li>тег <code>$cpu</code> - загальне завантаження CPU, <em>%</em></li>
<li>тег <code>$cpuN</code> - завантаження CPU для ядра N, <em>%</em></li>
<li>тег <code>$cpucl</code> - середня частота CPU, <em>MHz</em></li>
<li>тег <code>$cpuclN</code> - частота CPU для ядра N, <em>MHz</em></li>
<li>тег <code>$tempN</code> - температура для пристрою N. Наприклад, <code>$temp0</code></li>
<li>тег <code>$gpu</code> - використання GPU, <em>%</em>. <code>aticonfig</code> або <code>nvidia-smi</code> мають бути встановлені</li>
<li>тег <code>$gputemp</code> - температура GPU. <code>aticonfig</code> або <code>nvidia-smi</code> мають бути встановлені</li>
<li>тег <code>$mem</code> - використання RAM, <em>%</em></li>
<li>тег <code>$memmb</code> - використання RAM, <em>MB</em></li>
<li>тег <code>$memgb</code> - використання RAM, <em>GB</em></li>
<li>тег <code>$swap</code> - swap, <em>%</em></li>
<li>тег <code>$swapmb</code> - swap, <em>MB</em></li>
<li>тег <code>$swapgb</code> - swap, <em>GB</em></li>
<li>тег <code>$swaptotmb</code> - розмір swap, <em>MB</em></li>
<li>тег <code>$swaptotgb</code> - розмір swap, <em>GB</em></li>
<li>тег <code>$hddN</code> - використання точки монтування N, <em>%</em>. Наприклад, <code>$hdd0</code></li>
<li>тег <code>$hddmbN</code> - використання точки монтування N, <em>MB</em>. Наприклад, <code>$hddmb0</code></li>
<li>тег <code>$hddgbN</code> - використання точки монтування N, <em>GB</em>. Наприклад, <code>$hddgb0</code></li>
<li>тег <code>$hddtotmbN</code> - розмір точки монтування N, <em>MB</em>. Наприклад, <code>$hddtotmb0</code></li>
<li>тег <code>$hddtotgbN</code> - розмір точки монтування N, <em>GB</em>. Наприклад, <code>$hddtotgb0</code></li>
<li>тег <code>$hddrN</code> - швидкість запису на диск N, <em>KB/s</em>. Наприклад, <code>$hddr0</code></li>
<li>тег <code>$hddwN</code> - швидкість читання з диска N, <em>KB/s</em>. Наприклад, <code>$hddw0</code></li>
<li>тег <code>$hddtempN</code> - температура HDD N. Наприклад, <code>$hddtemp0</code></li>
<li>тег <code>$down</code> - швидкість завантаження, <em>KB/s</em></li>
<li>тег <code>$up</code> - швидкість віддачі, <em>KB/s</em></li>
<li>тег <code>$netdev</code> - поточний мережний інтерфейс</li>
<li>тег <code>$bat</code> - заряд батареї, <em>%</em></li>
<li>тег <code>$ac</code> - статус адаптера живлення. Повертає <code>(*)</code>, якщо AC підключений або <code>( )</code>, якщо ні</li>
<li>тег <code>$album</code> - альбом. Один з підтримуваних плеєрів повинен бути встановлений</li>
<li>тег <code>$artist</code> - виконавець. Один з підтримуваних плеєрів повинен бути встановлений</li>
<li>тег <code>$progress</code> - прогрес. Один з підтримуваних плеєрів повинен бути встановлений</li>
<li>тег <code>$time</code> - тривалість. Один з підтримуваних плеєрів повинен бути встановлений</li>
<li>тег <code>$title</code> - назва. Один з підтримуваних плеєрів повинен бути встановлений</li>
<li>тег <code>$pscount</code> - кількість запущених процесів</li>
<li>тег <code>$pstotal</code> - загальна кількість процесів</li>
<li>тег <code>$ps</code> - перелік процесів</li>
<li>тег <code>$pkgcountN</code> - кількість пакетів, що можуть бути оновлені, для команди N. Наприклад, <code>$pkgcount0</code></li>
<li>тег <code>$customN</code> - повертає результат своєї команди N. Наприклад, <code>$custom0</code></li>
</ul>

<p>Порядок полів зміниться, якщо ви зміните позицію слайдерів. HTML теги в полях працюють коректно.</p>

<p><strong>ЗАУВАЖЕННЯ</strong> ви не зможете встановити тег <code>$cpu</code>, наприклад, в полі swap. <strong><code>$cpu</code> буде працювати тільки в полі CPU</strong>.</p>

<h2>Поради та хитрощі</h2>

<p>Ви можете використовувати різні кольори в полях. Просто встановіть потрібний текст в html код. Дивись <a href="https://github.com/arcan1s/pytextmonitor/issues/9">питання</a> для більш детальної інформації.</p>

<p>Нумерація элементів в полях температура, використання HDD, швидкість HDD, температура HDD посилається на порядок елементів у другій вкладці (<em>Розширені налаштування</em>). Ви повинні спочатку додати потрібні елементи в потрібний listWidget. Тоді перший елемент в listWdiget буде пов’язаний з <code>$tag0</code>. Дивись <a href="https://github.com/arcan1s/pytextmonitor/issues/17">питання</a> для більш детальної інформації.</p>

<h2>Розширені налаштування</h2>

<p><strong>Вертикальна розмітка</strong></p>

<p>Використовувати вертикальну розмітку замість горизонтальної.</p>

<p><strong>Включити спливаючі повідомлення</strong></p>

<p>Натисніть на чекбокс, якщо ви не користуєтесь спливаючими повідомленнями.</p>

<p><strong>Свій формат часу</strong></p>

<ul>
<li>тег <code>$dddd</code> - день тижня у довгому форматі</li>
<li>тег <code>$ddd</code> - день тижня в короткому форматі</li>
<li>тег <code>$dd</code> - день</li>
<li>тег <code>$d</code> - день без нуля</li>
<li>тег <code>$MMMM</code> - місяць у довгому форматі</li>
<li>тег <code>$MMM</code> - місяць в короткому форматі</li>
<li>тег <code>$MM</code> - місяць</li>
<li>тег <code>$M</code> - місяця без нуля</li>
<li>тег <code>$yyyy</code> - рік</li>
<li>тег <code>$yy</code> - рік в короткому форматіе</li>
<li>тег <code>$hh</code> - години</li>
<li>тег <code>$h</code> - години без нуля</li>
<li>тег <code>$mm</code> - хвилини</li>
<li>тег <code>$m</code> - хвилини без нуля</li>
<li>тег <code>$ss</code> - секунди</li>
<li>тег <code>$s</code> - секунди без нуля</li>
</ul>

<p><strong>Свій формат аптайму</strong></p>

<ul>
<li>тег <code>$dd</code> - дні аптайму</li>
<li>тег <code>$d</code> - дні аптайму без нуля</li>
<li>тег <code>$hh</code> - години аптайму</li>
<li>тег <code>$h</code> - години аптайму без нуля</li>
<li>тег <code>$mm</code> - хвилини аптайму</li>
<li>тег <code>$m</code> - хвилини аптайму без нуля</li>
</ul>

<p><strong>Одиниці виміру температури</strong></p>

<p>Оберіть одиниці виміру температур. Доступні такі одиниці: Цельсій, Фаренгейт та Кельвін.</p>

<p><strong>Датчики температури</strong></p>

<p>Перелік датчиків, що будуть спостерігатись в полі temo (вміст комбо боксу береться із <code>sensors</code>). Віджет можна редагувати, клавіша delete видаляє поточний рядок.</p>

<p><strong>Точки монтування</strong></p>

<p>Перелік точок монтування, які будуть спостерігатися в полі hdd (вміст комбо боксу береться із <code>mount</code>). Віджет можна редагувати, клавіша delete видаляє поточний рядок.</p>

<p><strong>HDD (швидкість)</strong></p>

<p>Перелік HDD, які будуть спостерігатися в полі hddspeed (вміст комбо боксу береться із DataEngine). Віджет можна редагувати, клавіша delete видаляє поточний рядок.</p>

<p><strong>HDD (температура)</strong></p>

<p>Перелік HDD, які будуть спостерігатися в полі hddtemp (вміст комбо боксу береться iз <code>find</code>). Віджет можна редагувати, клавіша delete видаляє поточний рядок.</p>

<p><strong>Директорія з мережевими інтерфейсами</strong></p>

<p>Шлях до директорії, яка містить інформацію про мережеві інтерфейси. За замовчуванням <code>/sys/class/net</code>. Потрібно для визначення мережевого пристрою.</p>

<p><strong>Мережевий пристрій</strong></p>

<p>Використовувати вказаний інтерфейс, як активний. Вміст комбо боксу береться із <strong>директорії з мережевими інтерфейсами</strong>. Ця опція вимкне автовизначення інтерфейсу.</p>

<p><strong>Пристрій батареї</strong></p>

<p>Файл з інформацією про батарею. Даний файл (<code>/sys/class/power_supply/BAT0/capacity</code> за замовчуванням) повинен містити тільки заряд батареї в процентах.</p>

<p><strong>AC online тег</strong></p>

<p>Рядок, що буде показаний, коли AC онлайн.</p>

<p><strong>AC offline тег</strong></p>

<p>Рядок, що буде показаний, коли AC оффлайн.</p>

<p><strong>Пристрій AC</strong></p>

<p>Файл з інформациею про адаптер живлення. Даний файл (<code>/sys/class/power_supply/AC/online</code> за замовчуванням) повинен містити <code>1</code>, якщо адаптер підключений.</p>

<h2>Налаштування тултіпу</h2>

<p>Починаючи з версії 1.7.0 поля CPU, частота CPU, пам’ять, swap та мережа підтримують графічний тултіп. Щоб їх ввімкнути, просто зробіть необхідні чекбокси повністю чекнутими. Кількість зберігаємих значень може бути виставлена в даній вкладці. Кольори графіків також налаштовуються.</p>

<h2>Налаштування DataEngine</h2>

<p><strong>Своя команда</strong></p>

<p><em>ЗАУВАЖЕННЯ</em> Може призвести до зависання комп’ютера.</p>

<p>Команда, що буде запущена для відповідного поля.</p>

<p><strong>Пристрій GPU</strong></p>

<p>Оберіть один з підтримуваних пристроїв GPU. <code>auto</code> ввімкне автоматичне визначення. За замовчуванням <code>auto</code>.</p>

<p><strong>HDD</strong></p>

<p>Оберіть один з HDD для контролю його температури. <code>all</code> ввімкне контроль для всих доступних пристроїв. За замовчуванням <code>all</code>.</p>

<p><strong>Команда hddtemp</strong></p>

<p>Оберіть команду, яка буде запущена для hddtemp DataEngine. За замовчуванням <code>sudo hddtemp</code>.</p>

<p><strong>Адреса MPD</strong></p>

<p>Адреса MPD серверу. За замовчуванням <code>localhost</code>.</p>

<p><strong>Порт MPD</strong></p>

<p>Порт MPD серверу. За замовчуванням <code>6600</code>.</p>

<p><strong>Package manager</strong></p>

<p>Перелік команд, які будуть запущені. Кількість пустих рядків - кількість непотрібних для підрахунку рядків. Стандартні налаштування:</p>

<ul>
<li><em>Arch</em>: <code>PKGCMD=pacman -Qu</code>, <code>PKGNULL=0</code></li>
<li><em>Debian</em>: <code>PKGCMD=apt-show-versions -u -b</code>, <code>PKGNULL=0</code></li>
<li><em>Ubuntu</em>: <code>PKGCMD=aptitude search '~U'</code>, <code>PKGNULL=0</code></li>
<li><em>Fedora</em>: <code>PKGCMD=yum list updates</code>, <code>PKGNULL=3</code></li>
<li><em>FreeBSD</em>: <code>PKGCMD=pkg_version -I -l '&lt;'</code>, <code>PKGNULL=0</code></li>
<li><em>Mandriva</em>: <code>PKGCMD=urpmq --auto-select</code>, <code>PKGNULL=0</code></li>
</ul>

<p><strong>Музичний плеєр</strong></p>

<p>Виберіть один з підтримуваних музичних плеєрів.</p>

<h2>Налаштування DataEngine</h2>

<p>Ви можете відредагувати налаштування DataEngine вручну. Відкрийте файл <code>/usr/share/config/extsysmon.conf</code> або <code>$HOME/.kde4/share/config/extsysmon.conf</code>, в залежності від типу установки. Розкоментуйте потрібні рядки та відредагуйте їх.</p>

<h1>Інструкція</h1>

<h2>Залежності</h2>

<ul>
<li>kdebase-workspace</li>
<li>kdebindings-python2</li>
<li>lm_sensors (<em>для визначення датчиків температури</em>)</li>
</ul>

<h2>Опціональні залежності</h2>

<ul>
<li>sysstat (<em>для сповіщень</em>)</li>
<li>проприєтарний відеодрайвер</li>
<li>hddtemp (переконайтесь, що може бути запущений з <code>sudo</code> без пароля. Просто добавте наступний рядок в <code>/etc/sudoers</code>: <code>$USERNAME ALL=NOPASSWD: /usr/bin/hddtemp</code>)</li>
<li>музичний плеєр (amarok, clementine, mpd или qmmp)</li>
</ul>

<h2>Залежності збирання</h2>

<ul>
<li>automoc4</li>
<li>cmake</li>
</ul>

<h2>Установка</h2>

<ul>
<li>скачати вихідний архів</li>
<li><p>встановити</p>

<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`kde4-config --localprefix` ../
make &amp;&amp; make install
</code></pre>

<p>Для установки в <code>/</code>:</p>

<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`kde4-config --prefix` ../
make &amp;&amp; sudo make install
</code></pre></li>
</ul>

<h1>Додаткова інформація</h1>

<h2>TODO (wish list)</h2>

<h2>Посилання</h2>

<ul>
<li><a href="http://arcanis.name/projects/pytextmonitor/">Домашня сторінка</a></li>
<li>Віджет на <a href="http://kde-look.org/content/show.php/Py+Text+Monitor?content=157124">kde-look</a></li>
<li>DataEngine на <a href="http://kde-look.org/content/show.php/Extended+Systemmonitor+DataEngine?content=158773">kde-look</a></li>
<li>Пакет для Archlinux в <a href="https://aur.archlinux.org/packages/kdeplasma-applets-pytextmonitor/">AUR</a></li>
</ul>
